{"ast":null,"code":"import { auth } from \"../apis\";\nimport { saveToken } from \"../utils/localStorageToken\";\nimport * as type from '../const/ActionTypes'; // import store from \"../store\"\n\nexport const login = data => dispatch => {\n  console.log(\"Starting login action\");\n  dispatch({\n    type: type.LOGIN\n  });\n  auth.login(data).then(resp => {\n    console.log(\"resp: \" + resp); //dispatch to store\n    // store.dispatch({type: \"LOGIN_SUCCESS\"})\n\n    dispatch({\n      type: type.LOGIN_SUCCESS,\n      payload: {\n        token: resp.data.token\n      }\n    });\n    saveToken(resp.data.token); // window.location= \"/\"\n  }).catch(err => {\n    console.log(\"err: \" + err);\n    dispatch({\n      type: type.LOGIN_FAILED\n    });\n  });\n};","map":{"version":3,"sources":["/Users/HuyLo/Desktop/ReactJS_T3H/admin/src/actions/auth.js"],"names":["auth","saveToken","type","login","data","dispatch","console","log","LOGIN","then","resp","LOGIN_SUCCESS","payload","token","catch","err","LOGIN_FAILED"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,SAAnB;AACA,SAAQC,SAAR,QAAwB,4BAAxB;AACA,OAAO,KAAKC,IAAZ,MAAsB,sBAAtB,C,CACA;;AAIA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAWC,QAAD,IAAc;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAF,EAAAA,QAAQ,CAAC;AAACH,IAAAA,IAAI,EAAEA,IAAI,CAACM;AAAZ,GAAD,CAAR;AACAR,EAAAA,IAAI,CAACG,KAAL,CAAWC,IAAX,EACKK,IADL,CACWC,IAAD,IAAU;AACZJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWG,IAAvB,EADY,CAEZ;AACA;;AACAL,IAAAA,QAAQ,CAAC;AACLH,MAAAA,IAAI,EAAEA,IAAI,CAACS,aADN;AAELC,MAAAA,OAAO,EAAE;AAACC,QAAAA,KAAK,EAAEH,IAAI,CAACN,IAAL,CAAUS;AAAlB;AAFJ,KAAD,CAAR;AAIAZ,IAAAA,SAAS,CAACS,IAAI,CAACN,IAAL,CAAUS,KAAX,CAAT,CARY,CASZ;AACH,GAXL,EAYKC,KAZL,CAYYC,GAAD,IAAS;AACZT,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAUQ,GAAtB;AACAV,IAAAA,QAAQ,CAAC;AAACH,MAAAA,IAAI,EAAEA,IAAI,CAACc;AAAZ,KAAD,CAAR;AACH,GAfL;AAiBH,CApBM","sourcesContent":["import {auth} from \"../apis\";\nimport {saveToken} from \"../utils/localStorageToken\";\nimport * as type from '../const/ActionTypes'\n// import store from \"../store\"\n\n\n\nexport const login = (data) => (dispatch) => {\n    console.log(\"Starting login action\")\n    dispatch({type: type.LOGIN })\n    auth.login(data)\n        .then((resp) => {\n            console.log(\"resp: \" + resp)\n            //dispatch to store\n            // store.dispatch({type: \"LOGIN_SUCCESS\"})\n            dispatch({\n                type: type.LOGIN_SUCCESS,\n                payload: {token: resp.data.token}\n            })\n            saveToken(resp.data.token)\n            // window.location= \"/\"\n        })\n        .catch((err) => {\n            console.log(\"err: \" + err)\n            dispatch({type: type.LOGIN_FAILED})\n        })\n\n}"]},"metadata":{},"sourceType":"module"}